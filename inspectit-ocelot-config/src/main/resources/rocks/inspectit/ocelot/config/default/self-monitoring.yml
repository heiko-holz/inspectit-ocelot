inspectit:

  # when enabled inspectit reports execution times for metric and trace collection and processing
  self-monitoring:
    enabled: true

    # settings regarding the capturing of action related metrics
    actions:
      enabled:
        # if true, the execution time (duration in ms) per action will be recorded
        execution-time: true
        # if true, the number of executions per action will be recorded
        count: true

  metrics:
    definitions:
      '[inspectit/self/duration]':
        enabled: ${inspectit.self-monitoring.enabled}
        unit: us
        description: "inspectIT Ocelot self-monitoring duration"
        views:
          '[inspectit/self/duration]':
            aggregation: SUM
            tags: {"component-name" : true}

      '[inspectit/self/instrumentation-queue-size]':
        enabled: ${inspectit.self-monitoring.enabled}
        type: LONG
        unit: classes
        description: "the number of pending classes inspectIT has to check if they require instrumentation updates"

      '[inspectit/self/instrumented-classes]':
        enabled: ${inspectit.self-monitoring.enabled}
        type: LONG
        unit: classes
        description: "the number of classes currently instrumented by inspectIT"

      '[inspectit/self/logs]':
        enabled: ${inspectit.self-monitoring.enabled}
        type: LONG
        unit: log events
        description: "the number of log events"
        views:
          '[inspectit/self/logs]':
            aggregation: SUM
            tags: {"level": true}

      '[inspectit/self/actions/execution-time]':
        enabled: ${inspectit.self-monitoring.actions.enabled.execution-time}
        type: LONG
        unit: us
        description: "the execution time of the action"
        views:
          '[inspectit/self/actions/execution-time]':
            tags:
              action_name: true
      '[inspectit/self/actions/count]':
        enabled: ${inspectit.self-monitoring.actions.enabled.count}
        type: LONG
        unit: action executions
        description: "number of action executions"
        views:
          '[inspectit/self/actions/count]':
            aggregation: SUM
            tags:
              action_name: true
